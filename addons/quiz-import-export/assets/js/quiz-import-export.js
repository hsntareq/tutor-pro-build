jQuery(document).ready(function(i){"use strict";i(document).on("click",".btn-csv-download",function(t){i.ajax({url:ajaxurl,type:"POST",data:{quiz_id:i(this).data("id"),action:"quiz_export_data"},beforeSend:function(){},success:function(t){var e,a,n;t.success&&(e="data:text/csv;charset=utf-8,",t.data.output_quiz_data.forEach(function(t){t=t.join(",");e+=t+"\r\n"}),a=encodeURI(e),(n=document.createElement("a")).setAttribute("href",a),n.setAttribute("download","tutor-quiz-"+t.data.title+".csv"),document.body.appendChild(n),n.click())},complete:function(){}})}),i(document).on("change",'.tutor-add-quiz-button-wrap input[name="csv_file"]',function(t){var e,a,n=i(this).parent().find("input[name='csv_file']").prop("files"),c=i(this);n[0]?0<n[0].size?(e=tutor_get_nonce_data(!0),(a=new FormData).append("action","quiz_import_data"),a.append("csv_file",n[0]),a.append("topic_id",i(this).parent().find("input[name='csv_file']").data("topic")),a.append(e.key,e.value),i.ajax({url:ajaxurl,type:"POST",data:a,cache:!1,contentType:!1,processData:!1,success:function(t){t.success&&(c.val(""),c.closest(".tutor-topics-body").find(".tutor-lessons").append(t.data.output_quiz_row))}})):alert("File is Empty."):alert("No File Selected.")}),i(document).on("click",".btn-tutor-submit",function(t){t.preventDefault(),i(this).parent().find(".tutor-csv-file").click()})});